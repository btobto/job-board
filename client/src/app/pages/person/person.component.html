<ng-container *ngIf="selectedPerson$ | async as person">
  <div class="flex justify-content-center m-4">
    <div class="surface-card p-4 shadow-2 border-round w-screen xl:w-8">
      <div class="flex gap-4 mb-4">
        <div>
          <ng-container *ngIf="person.imagePath">aa</ng-container>
          <ng-container *ngIf="!person.imagePath">
            <img src="./assets/images/user-default-icon.png" style="width: 150px; height: 150px" />
          </ng-container>
        </div>
        <div>
          <div class="text-4xl font-medium text-900 mb-1">{{ person.name }}</div>
          <div class="text-lg font-medium text-600 mb-2">{{ getPersonPosition(person) }}</div>
          <div class="text-600 mb-3">{{ person.about }}</div>
          <!-- location -->
        </div>
      </div>
      <div *ngIf="person.skills" class="mb-4">
        <div class="text-2xl font-medium text-900 mb-2">Skills</div>
        <div class="text-900 w-full md:w-8 flex flex-wrap gap-2">
          <p-chip *ngFor="let skill of person.skills" [label]="skill"> </p-chip>
        </div>
      </div>
      <div *ngIf="person.prevExperience" class="mb-4">
        <div class="text-2xl font-medium text-900 mb-3">Experience</div>
        <div *ngFor="let job of person.prevExperience" class="surface-section mb-3">
          <div class="font-medium text-lg text-800 mb-3">{{ job.companyName }}</div>
          <!-- <div class="text-500 mb-3">{{ job.position }}</div> -->
          <ul class="list-none p-0 my-2">
            <li class="flex align-items-center py-3 pr-2 border-top-1 surface-border flex-wrap">
              <div class="text-500 w-6 md:w-2 font-medium">Position</div>
              <div class="text-900 w-full md:w-8 flex-grow-1">{{ job.position }}</div>
            </li>
            <li class="flex align-items-center py-3 pr-2 border-top-1 surface-border flex-wrap">
              <div class="text-500 w-6 md:w-2 font-medium">Description</div>
              <div class="text-900 w-full md:w-8 flex-grow-1">{{ job.description }}</div>
            </li>
            <li class="flex align-items-center py-3 pr-2 border-top-1 surface-border flex-wrap">
              <div class="text-500 w-6 md:w-2 font-medium">Period employed</div>
              <div class="text-900 w-full md:w-8 flex-grow-1">{{ job.yearFrom }} - {{ job.yearTo ?? "Present" }}</div>
            </li>
            <li class="flex align-items-center py-3 pr-2 border-top-1 surface-border flex-wrap">
              <div class="text-500 w-6 md:w-2 font-medium">Skills</div>
              <div class="text-900 w-full md:w-8 flex flex-wrap gap-2 flex-grow-1">
                <p-chip *ngFor="let skill of job.skills" [label]="skill"></p-chip>
              </div>
            </li>
          </ul>
        </div>
      </div>
      <div *ngIf="person.education" class="mb-2">
        <div class="text-lg font-medium text-900 mb-2">Education</div>
        <div *ngFor="let education of person.education">
          <div>{{ education.school }}</div>
          <div>{{ education.degree }}</div>
          <div>{{ education.grade }}</div>
          <div>{{ education.yearFrom }}</div>
          <div>{{ education.yearTo }}</div>
        </div>
      </div>
    </div>
  </div>
</ng-container>
